■はじめに

　このシステムはQuest2を利用したVRアプリケーションです。
　現在はQuest2のみ対応しており、PCやほかのHMDの対応は現在行っておりません。

　ペンライトの振りの練習システムとして曲を流す必要がありますが、ネット上に公開するにあたり
　曲を組み込まずに公開しております。

　そのためシステムが分かりにくくなっているのでシステムを利用した動画を確認ください。
　
　ペンライトの動きを記録する様子
　https://youtu.be/VsYm4edOLY0

　記録したペンライトの動きの再生の様子
　https://youtu.be/YBwpOs8d_AE

　※こちらの動画も音源は入っておりません
　※動画の振りは「ワルキューレはとまらない」という楽曲を使用し記録を行いました。


■背景

　こちらは研究活動としても扱っており、このシステムを作成するに至った背景を紹介します。

　ライブでは、応援行動の一部として観客がペンライトを振る行動があります。
　これによってライブをさらに盛り上げ、会場全体で一体感を作ることができます。

　しかし、ペンライトの振り方や振るタイミング、その速度は、ライブや演奏される曲ごとに異なります。
　ライブに慣れていない人はこうした変化に付いていくことができずに、
　周囲の観客の動きに合わせようと周囲のペンライトの動きに注意を払う余り、
　せっかくの趣向を凝らした演出を見逃してしまい、
　その結果、ライブの醍醐味を満足に楽しめなくなってしまいます。

　そこでペンライトを振ることに慣れていないライブ参加の初心者が、
　ペンライトの振り方を事前にVR環境下で練習できるシステムを作成しています。


■概要

　Quest2のコントローラをペンライトと見立て、ペンライトの振りが練習できるようなシステムです。
　ペンライトの動きを自身または他者が記録することができます。

　動きを記録することでVR空間上の自身の周囲に配置したペンライトに反映させることができます。
　反映させることにより実際のライブ会場と同じように周りがペンライトを振る状況になります。

　周囲のペンライトに合わせて自身もコントローラを振ることで
　ペンライトの振りを練習することができます。



■操作方法

　※PCについてはキーを配置していますが、あくまで確認用であり使用感を確かめるものではありません

　メニューの表示
　　Quest2:コントローラ左 Xボタン
　　PC    :Aキー
　　再度押すことによりメニュー非表示可能

　メニュー選択
　　Quest2:コントローラジョイスティックでボタンを選択後、コントローラ右 Aボタン
　　PC    :Play画面から各ボタンを左クリック

　記録の開始
　　Quest2:メニューよりStartRecordを選択
　　PC    :同上、Zキー

　記録の終了
　　Quest2:メニューよりStopRecordを選択
　　PC    :同上、Xキー

　振りの再生
　　Quest2:コントローラ左 Yボタン
　　PC    :Jキー

　振りの停止
　　Quest2:コントローラ右 Bボタン
　　PC    :Kキー

　セーブ
　　Quest2:メニューよりSaveを選択
　　PC    :同上

　ロード
　　Quest2:メニューよりLoadを選択
　　PC    :同上


■ペンライトの振りの記録

　メニューから「記録の開始」をすると、曲を設定している場合曲が流れ始めます。
　その曲に合わせペンライトを振ることでその動きが記録されます。

　記録を終わりたいときは、メニューから「記録の終了」を選択します。
　終了を選択した後は、「振りの再生」を選択することで記録した動きを確認できます。


■ペンライトの振りの再生
　
　「振りの再生」を選択することで、記録した動きが存在した場合再生することができます。
　再生すると自身の周りに配置されているペンライトが記録した動きと同じ動きをします。
　それに合わせてコントローラを振ることで振りの練習をすることができます。

　途中で止める場合は「振りの停止」を選択することで停止します。


■セーブ＆ロード

　記録した動きをセーブすることによりデータとして残すことができます。
　「セーブ」を選択し、振りの記録がされていればその動きをファイルとして保存します。
　ファイルを共有することで他者に振りのデータを簡単に渡すことができます。

　ファイルが保存されていればロードをすることにより振りをインプットすることができます。
　他者からもらったファイルもロードすることができ、
　振りを知っている人に作ってもらったファイルを使用し、振りを練習することが簡単に出来ます。

　現在「ワルキューレはとまらない」のペンライトの動きを記録したものが設定されているため、
　ロードして再生することにより動きを見ることが可能です。


■注意点

　このシステムはいまだ開発途中のためシステムとしていまだ足りていない部分が多くなっています。

　今後は練習システムとしてより支援できるよう、自身の振りと周囲の振りがどのくらい合っているか
　判定するシステム、
　現在一つの曲のみの記録にしか対応していないため、複数の曲を対応できるようなものを考えております。
　
